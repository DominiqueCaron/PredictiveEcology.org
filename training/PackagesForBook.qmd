---
author:
  - "Eliot McIntire"
date: last-modified
editor_options:
  chunk_output_type: console
---

# Pre-installing R packages for book

The objective of this book is to facilitate lightweight project code and
setting up R^3^T workflows[^1]. To do this, packages and any code that
are used must be easy to install and use. We accomplish this by having
each chapter installing its own packages, and avoiding having users
"pre-installing" packages.

Furthermore, packages, once installed for one project, will be cached
locally so that the next project will be able to install quickly from
the local package cache. We have also attempted to allow all sections to
be run without administrator privileges.

Nonetheless, there might be situations where users of this book will
need to pre-install packages in one go â€“ e.g., they will run chapter
code without internet access. The following instructions are meant to
cover this use case.

## Installation code

If you can run the following code, then you will be able to run code in
any of the chapters in this book. This code begins by installing `SpaDES.project`, 
`reproducible` and their dependencies, then uses `setupProject` to 
download and install a single SpaDES module (*Biomass-core*) and its many 
dependencies (over 130 packages). Finally, `setupProject` also downloads a
list of other R packages from GitHub and installs them (the code in `sideEffects = {}`).

```{r setupProject}
#| cache: true
#| echo: true
#| eval: false

repos <- c("predictiveecology.r-universe.dev", getOption("repos"))
install.packages(c("SpaDES.project", "reproducible"),
                 repos = repos, dependencies = TRUE)

library(SpaDES.project)

out <- setupProject(
  pkgList = "https://raw.githubusercontent.com/PredictiveEcology/PredictiveEcology.org/14-fix-webpage-build/training/R/pkgList.R"
  packages = pkgList
  options = list(repos = repos),
  name = "Introduction",
  modules = "PredictiveEcology/Biomass_core@main"
)
```







## See also

@sec-TroubleShoot on R package installation troubleshooting

[^1]: See this [introduction to R^3^T
    workflows](https://ceresbarros.github.io/reproducible-workflowsWS/presentations/20230712_BESMacroSIG2023_ReproducibleWorkflowsWS.pdf).
